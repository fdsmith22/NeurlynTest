/* Fix for double scrollbar issue caused by multiple CSS integrations */

/* Reset conflicting overflow settings */
html {
    overflow-x: hidden !important;
    overflow-y: auto !important;
    scroll-behavior: smooth !important;
    height: 100% !important;
}

body {
    overflow-x: hidden !important;
    overflow-y: visible !important;
    min-height: 100vh !important;
    height: auto !important;
    position: relative !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* Ensure main content wrapper doesn't create extra scrollbars */
.container,
.main-container,
#app,
#root {
    overflow: visible !important;
    height: auto !important;
    min-height: auto !important;
}

/* Fix for fixed position elements that might cause scrollbar issues */
.floating-orbs,
.particle-canvas,
#particle-canvas,
.neural-bg,
#neuralCanvas,
.matrix-bg,
.morphing-bg,
.celebration-particles {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    pointer-events: none !important;
    overflow: hidden !important;
    z-index: -1 !important;
}

/* Ensure background elements don't affect document flow */
.orb,
.particle,
.matrix-column {
    position: absolute !important;
}

/* Fix welcome screen and assessment container */
#welcomeScreen,
#assessmentContainer {
    overflow: visible !important;
    height: auto !important;
    min-height: auto !important;
}

/* Ensure content sections don't create unnecessary scrollbars */
.assessment-card,
.question-card,
.enhanced-question-container {
    overflow: visible !important;
    max-width: 100% !important;
}

/* Fix for progress containers */
#progressContainer,
.progress-container {
    position: relative !important;
    overflow: visible !important;
}

/* Prevent double scrollbar from nested containers */
.content-wrapper {
    overflow: visible !important;
    height: auto !important;
}

/* Custom scrollbar styling for the main scrollbar */
::-webkit-scrollbar {
    width: 12px;
}

::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, var(--amethyst, #8b6cc1), var(--deep-violet, #6f4ba8));
    border-radius: 10px;
    border: 2px solid transparent;
    background-clip: padding-box;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, var(--periwinkle, #c3b8e6), var(--amethyst, #8b6cc1));
    background-clip: padding-box;
}

/* Firefox scrollbar styling */
* {
    scrollbar-width: thin;
    scrollbar-color: var(--amethyst, #8b6cc1) rgba(255, 255, 255, 0.05);
}

/* Ensure mobile doesn't have horizontal scroll */
@media (max-width: 768px) {
    html, body {
        max-width: 100vw !important;
        overflow-x: hidden !important;
    }
    
    .container {
        max-width: 100% !important;
        padding-left: 1rem !important;
        padding-right: 1rem !important;
    }
}

/* Fix for any elements that might extend beyond viewport */
* {
    max-width: 100vw;
}

/* Prevent horizontal scroll from transform animations */
.letter-wrapper,
.word-bubble,
.scenario-option,
.metaphor-option {
    will-change: transform;
    transform-origin: center;
}

/* Ensure animations don't cause layout shifts */
@keyframes * {
    transform-origin: center;
}