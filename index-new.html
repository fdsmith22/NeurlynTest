<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P.A.T.R.I.C.I.A - Next Generation Personality Assessment</title>
    <meta name="description" content="Discover your unique personality archetype with P.A.T.R.I.C.I.A - featuring 21+ archetypes, 3D visualizations, AI insights, and gamification">
    
    <!-- SEO and Social Media -->
    <meta property="og:title" content="P.A.T.R.I.C.I.A - Advanced Personality Assessment">
    <meta property="og:description" content="Discover your unique personality archetype from 21+ profiles with AI-powered insights and stunning 3D visualizations">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/assets/social-preview.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="P.A.T.R.I.C.I.A - Personality Assessment">
    <meta name="twitter:description" content="Discover your unique personality archetype with gamified assessments and AI insights">
    
    <!-- PWA -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='80' font-size='80'>ðŸ§ </text></svg>">
    
    <style>
        /* Critical CSS for initial load */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #1f2937;
            overflow-x: hidden;
        }
        
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            transition: opacity 0.5s ease-out;
        }
        
        .loading-content {
            text-align: center;
            color: white;
        }
        
        .loading-logo {
            font-size: 80px;
            margin-bottom: 20px;
            animation: pulse 2s ease-in-out infinite;
        }
        
        .loading-title {
            font-size: 36px;
            font-weight: 800;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #fff, #e0e7ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .loading-subtitle {
            font-size: 18px;
            opacity: 0.9;
            margin-bottom: 30px;
        }
        
        .loading-bar {
            width: 200px;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            overflow: hidden;
        }
        
        .loading-progress {
            height: 100%;
            background: white;
            border-radius: 2px;
            animation: load 2s ease-in-out infinite;
        }
        
        .loading-tip {
            margin-top: 30px;
            font-size: 14px;
            opacity: 0.7;
            max-width: 300px;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        @keyframes load {
            0% { width: 0%; }
            50% { width: 70%; }
            100% { width: 100%; }
        }
        
        .hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        /* Noscript styles */
        .noscript-message {
            background: #ef4444;
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-logo">ðŸ§ </div>
            <h1 class="loading-title">P.A.T.R.I.C.I.A</h1>
            <p class="loading-subtitle">Personality Assessment Tool for Revealing Individual Characteristics and Insights Accurately</p>
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
            <p class="loading-tip" id="loading-tip">Preparing your personalized experience...</p>
        </div>
    </div>
    
    <!-- Main App Container -->
    <div id="app"></div>
    
    <!-- Noscript fallback -->
    <noscript>
        <div class="noscript-message">
            JavaScript is required to run P.A.T.R.I.C.I.A. Please enable JavaScript in your browser settings.
        </div>
    </noscript>
    
    <!-- Loading Tips Script -->
    <script>
        const tips = [
            'Did you know? P.A.T.R.I.C.I.A features 21+ unique personality archetypes',
            'Tip: Complete assessments regularly to track your personality evolution',
            'Fun fact: Your personality visualization is rendered in real-time 3D',
            'Achievement unlocked: You\'re about to discover something amazing about yourself',
            'Loading AI insights powered by advanced machine learning',
            'Preparing gamification elements and achievements',
            'Did you know? You can share your personality card on social media',
            'Tip: Enable sound for an immersive assessment experience',
            'Fun fact: Each archetype has its own mythical creature and element',
            'Loading compatibility matching algorithms'
        ];
        
        let tipIndex = 0;
        const tipElement = document.getElementById('loading-tip');
        
        // Rotate tips
        setInterval(() => {
            tipIndex = (tipIndex + 1) % tips.length;
            if (tipElement) {
                tipElement.style.opacity = '0';
                setTimeout(() => {
                    tipElement.textContent = tips[tipIndex];
                    tipElement.style.opacity = '0.7';
                }, 300);
            }
        }, 3000);
        
        // Hide loading screen when app loads
        window.addEventListener('load', () => {
            setTimeout(() => {
                const loadingScreen = document.getElementById('loading-screen');
                if (loadingScreen) {
                    loadingScreen.classList.add('hidden');
                    setTimeout(() => {
                        loadingScreen.remove();
                    }, 500);
                }
            }, 1500);
        });
    </script>
    
    <!-- Module loader -->
    <script type="module" src="/src/main.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js').then(registration => {
                    console.log('ServiceWorker registered:', registration);
                }).catch(error => {
                    console.log('ServiceWorker registration failed:', error);
                });
            });
        }
    </script>
    
    <!-- Easter Egg: Konami Code -->
    <script>
        const konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
        let konamiIndex = 0;
        
        document.addEventListener('keydown', (e) => {
            if (e.key === konamiCode[konamiIndex]) {
                konamiIndex++;
                if (konamiIndex === konamiCode.length) {
                    activateEasterEgg();
                    konamiIndex = 0;
                }
            } else {
                konamiIndex = 0;
            }
        });
        
        function activateEasterEgg() {
            console.log('ðŸŽ® Konami Code Activated!');
            document.body.style.animation = 'rainbow 3s linear infinite';
            
            // Create rainbow animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes rainbow {
                    0% { filter: hue-rotate(0deg); }
                    100% { filter: hue-rotate(360deg); }
                }
            `;
            document.head.appendChild(style);
            
            // Show secret message
            const message = document.createElement('div');
            message.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(45deg, #ff0080, #ff8c00, #ffd700, #00ff00, #00ffff, #ff00ff);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
                font-size: 48px;
                font-weight: bold;
                z-index: 10000;
                animation: bounce 1s ease-in-out;
            `;
            message.textContent = 'ðŸŒˆ ULTRA MODE ACTIVATED! ðŸŒˆ';
            document.body.appendChild(message);
            
            setTimeout(() => {
                message.remove();
                document.body.style.animation = '';
            }, 3000);
        }
    </script>
    
    <!-- Analytics (optional) -->
    <script>
        // Add your analytics code here if needed
        window.patriciaAnalytics = {
            trackEvent: (category, action, label) => {
                console.log('Analytics:', { category, action, label });
                // Implement actual analytics tracking
            }
        };
    </script>
</body>
</html>